<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScriptLib Code Editor!</title>
	<script type="text/javascript" src="lib/sweetalert2.all.min.js"></script>
	<script type="text/javascript" src="lib/jquery.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	

	<!-- Core CodeMirror CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.css">
	<!-- CodeMirror JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.js"></script>
	<!-- CodeMirror Mode JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/javascript/javascript.min.js"></script>


	<script defer type="text/javascript" src="script.js" ></script>
	<script defer type="text/javascript" src="terminal.js" ></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Gugi&display=swap" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="./index.css" />

	<link rel="stylesheet" href="./lib/codemirror.css">
	<link rel="stylesheet" href="./theme/3024-day.css">
	<link rel="stylesheet" href="./theme/3024-night.css">
	<link rel="stylesheet" href="./theme/abbott.css">
	<link rel="stylesheet" href="./theme/abcdef.css">
	<link rel="stylesheet" href="./theme/ambiance.css">
	<link rel="stylesheet" href="./theme/ayu-dark.css">
	<link rel="stylesheet" href="./theme/ayu-mirage.css">
	<link rel="stylesheet" href="./theme/base16-dark.css">
	<link rel="stylesheet" href="./theme/bespin.css">
	<link rel="stylesheet" href="./theme/base16-light.css">
	<link rel="stylesheet" href="./theme/blackboard.css">
	<link rel="stylesheet" href="./theme/cobalt.css">
	<link rel="stylesheet" href="./theme/colorforth.css">
	<link rel="stylesheet" href="./theme/dracula.css">
	<link rel="stylesheet" href="./theme/duotone-dark.css">
	<link rel="stylesheet" href="./theme/duotone-light.css">
	<link rel="stylesheet" href="./theme/eclipse.css">
	<link rel="stylesheet" href="./theme/elegant.css">
	<link rel="stylesheet" href="./theme/erlang-dark.css">
	<link rel="stylesheet" href="./theme/gruvbox-dark.css">
	<link rel="stylesheet" href="./theme/hopscotch.css">
	<link rel="stylesheet" href="./theme/icecoder.css">
	<link rel="stylesheet" href="./theme/isotope.css">
	<link rel="stylesheet" href="./theme/juejin.css">
	<link rel="stylesheet" href="./theme/lesser-dark.css">
	<link rel="stylesheet" href="./theme/liquibyte.css">
	<link rel="stylesheet" href="./theme/lucario.css">
	<link rel="stylesheet" href="./theme/material.css">
	<link rel="stylesheet" href="./theme/material-darker.css">
	<link rel="stylesheet" href="./theme/material-palenight.css">
	<link rel="stylesheet" href="./theme/material-ocean.css">
	<link rel="stylesheet" href="./theme/mbo.css">
	<link rel="stylesheet" href="./theme/mdn-like.css">
	<link rel="stylesheet" href="./theme/midnight.css">
	<link rel="stylesheet" href="./theme/monokai.css">
	<link rel="stylesheet" href="./theme/moxer.css">
	<link rel="stylesheet" href="./theme/neat.css">
	<link rel="stylesheet" href="./theme/neo.css">
	<link rel="stylesheet" href="./theme/night.css">
	<link rel="stylesheet" href="./theme/nord.css">
	<link rel="stylesheet" href="./theme/oceanic-next.css">
	<link rel="stylesheet" href="./theme/panda-syntax.css">
	<link rel="stylesheet" href="./theme/paraiso-dark.css">
	<link rel="stylesheet" href="./theme/paraiso-light.css">
	<link rel="stylesheet" href="./theme/pastel-on-dark.css">
	<link rel="stylesheet" href="./theme/railscasts.css">
	<link rel="stylesheet" href="./theme/rubyblue.css">
	<link rel="stylesheet" href="./theme/seti.css">
	<link rel="stylesheet" href="./theme/shadowfox.css">
	<link rel="stylesheet" href="./theme/solarized.css">
	<link rel="stylesheet" href="./theme/the-matrix.css">
	<link rel="stylesheet" href="./theme/tomorrow-night-bright.css">
	<link rel="stylesheet" href="./theme/tomorrow-night-eighties.css">
	<link rel="stylesheet" href="./theme/ttcn.css">
	<link rel="stylesheet" href="./theme/twilight.css">
	<link rel="stylesheet" href="./theme/vibrant-ink.css">
	<link rel="stylesheet" href="./theme/xq-dark.css">
	<link rel="stylesheet" href="./theme/xq-light.css">
	<link rel="stylesheet" href="./theme/yeti.css">
	<link rel="stylesheet" href="./theme/idea.css">
	<link rel="stylesheet" href="./theme/darcula.css">
	<link rel="stylesheet" href="./theme/yonce.css">
	<link rel="stylesheet" href="./theme/zenburn.css">

	<script type="text/javascript">
		let startPosition;
		if(typeof readSetting==='undefined')
			var { readSetting } = require('./helpers');
		if(typeof writeSetting==='undefined')
			var { writeSetting } = require('./helpers');
		
	</script>
</head>
<body>
	<div id="main-container">
		<div id="left-side">
			<input id="searchInput" type="search" onkeyup="searchFicion()" onclick="setTimeout(searchFicion,100)" placeholder="&#xF002; Search" style="font-family:Arial, FontAwesome">
			<ul id="fiction-list">
			</ul>
		</div>
		<div id="editor"></div>
		<div id="right-toolbar" class="">
			<ul class="sticky">
				<li class="tab active">
					<ul class="helpers-list"></ul>
				</li>
				<li class="tab">
					<ul class="versions-list"></ul>
				</li>
				<div>
					<button class="btn-tab active">Helpers</button>
					<button class="btn-tab">Versions</button>
				</div>
			</ul>
		</div>
		<input class="terminal" placeholder="Write a terminal command here" >
	</div>
	<div class="dropdown-menu dropdown-menu-sm" id="context-menu">
		<a class="dropdown-item" onclick="selectContextMenuItem(event)" href="#">Menu Not Ready Yet</a>
		<a class="dropdown-item" onclick="selectContextMenuItem(event)" href="#">Menu Not Ready Yet</a>
		<a class="dropdown-item" onclick="selectContextMenuItem(event)" href="#">Menu Not Ready Yet</a>
    </div>
	<ul id="logList"></ul>



<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<!--##############################################################################################################################################-->
<script>
	
	document.querySelector('#right-toolbar').addEventListener("mouseenter", (e) => {
		document.querySelector('#right-toolbar').classList.remove("hidden")
	});

	document.querySelector('#right-toolbar').addEventListener("mouseleave", (e) => {
		document.querySelector('#right-toolbar').classList.add("hidden")
	});

	$('.btn-tab').click( (e) => {
		if($(e.currentTarget).hasClass("active"))return;
		$('.btn-tab').removeClass("active");
		$('#right-toolbar ul .tab').removeClass('active');
		$(e.currentTarget).addClass("active")
		$('#right-toolbar ul .tab').eq($(e.currentTarget).index()).addClass('active');
	});


</script>
<script>
	var editorSelector = "#editor";
	const set = require('./helpers');	
	function createEditor() {
		window.editor = CodeMirror(document.querySelector(editorSelector), {
			mode: {name: "javascript", globalVars: true},
			lineNumbers: true,
			theme: set.readSetting('theme') || "default"
		});
	}

</script>



<script>

	// const { oneDark, oneDarkHighlightStyle, oneDarkTheme } = CM['@codemirror/theme-one-dark'];
	
	// generateTheme();
	// window.theme = readSetting('theme') || "default";
	// let theme = setTheme();
	createEditor([])
	
	</script>
	<script type="text/javascript">
		
		document.querySelector(editorSelector).onclick = function(e) {
            document.querySelector("#context-menu").style.display = "none";
            return false; 
        }
		
		document.querySelector('#context-menu').onclick = function(e) {
            document.querySelector("#context-menu").style.display = "none";
            return false; 
        }

		document.querySelector(editorSelector).oncontextmenu = function(e) { 
            var top = e.pageY - 0;
            var left = e.pageX + 5;
            document.querySelector("#context-menu").style.display = "flex";
            document.querySelector("#context-menu").style.top = top+"px";
            document.querySelector("#context-menu").style.left = left+"px";
            return false; 
        }

        function selectContextMenuItem(event) {
        	console.log("menu clicked", event.target);
        }
		setTimeout(() => {
			selectFile();
		}, 300);

		document.querySelector(editorSelector).oninput = () => {
			document.querySelector('.fiction-item.active').classList.add("modified");
			let id = document.querySelector('.fiction-item.active').getAttribute('fiction-id');
			window.methodsObject.methodList[id].modified = true;
		}
	</script>
</body>
</html>

